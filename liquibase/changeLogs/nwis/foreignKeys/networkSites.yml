databaseChangeLog:
  - changeSet:
      author: ajmccart
      id: "create.foreignKeyConstraint.${NWIS_SCHEMA_NAME}.network_sites_fk_1"
      preConditions:
        - onFail: MARK_RAN
        - onError: HALT
        - not:
          - foreignKeyConstraintExists:
              NWIS_SCHEMA_NAME: ${NWIS_SCHEMA_NAME}
              foreignKeyName: network_sites_fk_1
      changes:
        - sql: alter table network_sites add constraint network_sites_fk_1 foreign key (network_id) references ${NWIS_SCHEMA_NAME}.network(network_id);
        - rollback: drop constraint if exists ${NWIS_SCHEMA_NAME}.network_sites_fk_1;
        
  - changeSet:
      author: ajmccart
      id: "create.foreignKeyConstraint.${NWIS_SCHEMA_NAME}.network_sites_fk_2"
      preConditions:
        - onFail: MARK_RAN
        - onError: HALT
        - not:
          - foreignKeyConstraintExists:
              NWIS_SCHEMA_NAME: ${NWIS_SCHEMA_NAME}
              foreignKeyName: network_sites_fk_2
      changes:
        - sql: alter table network_sites add constraint network_sites_fk_2 foreign key (monitoring_location_id) references ${NWIS_SCHEMA_NAME}.monitoring_location(monitoring_location_id);
        - rollback: drop constraint if exists ${NWIS_SCHEMA_NAME}.network_sites_fk_2;        
        
        
        

        